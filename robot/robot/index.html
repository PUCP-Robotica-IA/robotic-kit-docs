<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Equipo 1MTR53" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Robot - Software Pico - 1MTR53</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Robot";
        var mkdocs_page_input_path = "robot\\robot.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/markdown.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Software Pico - 1MTR53
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" title="Escriba el t√©rmino de b√∫squeda aqu√≠" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Menu de navegaci√≥n">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Introducci√≥n</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../..#objetivos-del-proyecto">Objetivos del proyecto</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#plataformas-soportadas">Plataformas soportadas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#estructura-del-repositorio">Estructura del repositorio</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#guia-de-inicio-para-estudiantes">Gu√≠a de Inicio para Estudiantes</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../..#parte-1-preparacion-del-entorno">Parte 1: Preparaci√≥n del Entorno</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../..#parte-2-configuracion-y-verificacion-del-robot">Parte 2: Configuraci√≥n y Verificaci√≥n del Robot</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#laboratorios-incluidos">Laboratorios incluidos</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#versionado">Versionado</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#organizacion-del-desarrollo">Organizaci√≥n del Desarrollo</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#licencia">Licencia</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../..#contacto">Contacto</a>
    </li>
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Gu√≠a de instalaci√≥n</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/micropython_guide/">Gu√≠a 1: Instalaci√≥n del firmware del Micropython</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/micropython_guide/#paso-1-descargar-el-firmware">Paso 1: Descargar el firmware</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/micropython_guide/#paso-2-instalar-el-firmware-en-la-placa">Paso 2: Instalar el firmware en la placa</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/micropython_guide/#listo">¬°Listo!</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/thony_guide/">Gu√≠a 2: Tu primer programa con Thonny</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/thony_guide/#paso-1-instalar-el-editor-thonny">Paso 1: Instalar el editor Thonny</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/thony_guide/#paso-2-conectar-la-placa-a-thonny">Paso 2: Conectar la placa a Thonny</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/thony_guide/#paso-3-codigo-de-prueba-led-intermitente">Paso 3: C√≥digo de prueba (LED intermitente)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/thony_guide/#paso-4-opcional-pero-recomendado-guardar-el-codigo-en-la-placa">Paso 4 (Opcional pero recomendado): Guardar el c√≥digo en la placa</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/thony_guide/#listo">¬°Listo!</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/base_guide/">Gu√≠a 3: Carga de archivos base</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/base_guide/#paso-1-descargar-los-archivos-base-del-robot">Paso 1: Descargar los archivos base del robot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/base_guide/#paso-2-abrir-thonny-y-conectar-la-placa">Paso 2: Abrir Thonny y conectar la placa</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/base_guide/#paso-3-cargar-y-verificar-los-archivos-en-la-pico-w">Paso 3: Cargar y Verificar los Archivos en la Pico W</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../guides/base_guide/#paso-4-ejecutar-prueba-de-verificacion-opcional">Paso 4: Ejecutar Prueba de Verificaci√≥n (Opcional)</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuraci√≥n</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../configure/configure/">Configuraci√≥n de pines</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../configure/configure/#libreria-config">Librer√≠a CONFIG</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../configure/configure/#diccionario-de-configuracion">üì¶ Diccionario de configuraci√≥n</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../configure/configure/#configuraciones-disponibles">üß© Configuraciones disponibles</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configure/motor_config_guide/">Configuraci√≥n y calibraci√≥n de motores</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../configure/motor_config_guide/#paso-1-entender-los-archivos-de-configuracion">Paso 1: Entender los Archivos de Configuraci√≥n</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../configure/motor_config_guide/#paso-2-preparar-el-script-de-diagnostico">Paso 2: Preparar el Script de Diagn√≥stico</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../configure/motor_config_guide/#paso-3-ejecutar-la-prueba-y-aplicar-correcciones">Paso 3: Ejecutar la Prueba y Aplicar Correcciones</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../configure/motor_config_guide/#caso-a-funcionamiento-correcto">Caso A: Funcionamiento Correcto ‚úÖ</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../configure/motor_config_guide/#caso-b-motor-con-giro-fisico-invertido">Caso B: Motor con Giro F√≠sico Invertido üîÑ</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../configure/motor_config_guide/#caso-c-lectura-del-encoder-invertida">Caso C: Lectura del Encoder Invertida üìàüìâ</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../configure/motor_config_guide/#caso-d-giro-fisico-invertido-y-lectura-del-encoder-invertida">Caso D: Giro F√≠sico Invertido Y Lectura del Encoder Invertida</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../configure/motor_config_guide/#paso-4-verificacion-final">Paso 4: Verificaci√≥n Final</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Robot</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Robot</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#paso-1-definir-la-clase-base-del-robot">PASO 1: Definir la clase base del robot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#paso-2-controlar-el-robot">PASO 2: Controlar el robot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#metodos-asociados-a-la-clase-base-del-robot">M√©todos asociados a la clase base del robot</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#funciones-relacionadas-con-el-movimiento-del-robot">Funciones relacionadas con el movimiento del robot</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#robotmove">ROBOT.MOVE</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotstop">ROBOT.STOP</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotset_custom_jacobian">ROBOT.SET_CUSTOM_JACOBIAN</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#funciones-relacionadas-con-el-control-en-lazo-cerrado">Funciones relacionadas con el control en lazo cerrado</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#robotset_control_mode">ROBOT.SET_CONTROL_MODE</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotset_pid_constants">ROBOT.SET_PID_CONSTANTS</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotenable_auto_update">ROBOT.ENABLE_AUTO_UPDATE</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#funciones-relacionadas-con-los-motores-individuales">Funciones relacionadas con los motores individuales</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#robotmotorsidset_speed">ROBOT.MOTORS.ID.SET_SPEED</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotmotorsidstop">ROBOT.MOTORS.ID.STOP</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotmotorsidget_speed">ROBOT.MOTORS.ID.GET_SPEED</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotmotorsidget_state">ROBOT.MOTORS.ID.GET_STATE</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotmotorsidenable_close_loop_control">ROBOT.MOTORS.ID.ENABLE_CLOSE_LOOP_CONTROL</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotmotorsidtune_pid">ROBOT.MOTORS.ID.TUNE_PID</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#funciones-relacionadas-con-la-lectura-de-sensores-del-robot">Funciones relacionadas con la lectura de sensores del robot</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#robotsensorsread_imu_theta">ROBOT.SENSORS.READ_IMU_THETA</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotsensorsread_imu_values">ROBOT.SENSORS.READ_IMU_VALUES</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotsensorsread_ultrasonic_value">ROBOT.SENSORS.READ_ULTRASONIC_VALUE</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#robotsensorsread_ultrasonic_all">ROBOT.SENSORS.READ_ULTRASONIC_ALL</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#robotupdate_odometry">ROBOT.UPDATE_ODOMETRY</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#robotmotors">ROBOT.MOTORS</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Men√∫ de navegaci√≥n en m√≥vil">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Software Pico - 1MTR53</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Documentos"></a></li>
          <li class="breadcrumb-item">Robot</li>
      <li class="breadcrumb-item active">Robot</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/PUCP-Robotica-IA/Software_Pico/edit/main/docs/robot/robot.md">Editar en Ver en GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="clase-robot">Clase <code>robot</code></h1>
<p>Antes de iniciar el proyecto, es necesario definir la clase base del robot que se utilizar√°. Esta clase debe ser capaz de manejar diferentes configuraciones de hardware y proporcionar una interfaz com√∫n para interactuar con los motores y sensores.</p>
<hr />
<h2 id="paso-1-definir-la-clase-base-del-robot">PASO 1: Definir la clase base del robot</h2>
<p>En primer lugar, es necesario importar el m√©todo <code>get_robot</code> de la librer√≠a <code>robot</code>. Este m√©todo permite obtener una instancia del robot seg√∫n el tipo de robot y su configuraci√≥n. Cada configuraci√≥n depende del tipo de robot, por lo que se sugiere revisar la documentaci√≥n de <a href="../../configure/configure/"><code>configure</code></a> para entender las diferentes configuraciones disponibles.</p>
<p>A continuaci√≥n se muestra un ejemplo de c√≥mo definir la clase base del robot utilizando el m√©todo <code>get_robot</code> para crear una instancia del robot mecanum:</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de inicializaci√≥n</p>
<p>Este bloque de c√≥digo crea una instancia del robot tipo mecanum usando la configuraci√≥n definida en <code>CONFIG</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">config</span><span class="w"> </span><span class="kn">import</span> <span class="n">CONFIG</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">robot</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_robot</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">ROBOT_TYPE</span> <span class="o">=</span> <span class="s1">&#39;mecanum&#39;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">robot</span> <span class="o">=</span> <span class="n">get_robot</span><span class="p">(</span><span class="n">ROBOT_TYPE</span><span class="p">,</span> <span class="n">CONFIG</span><span class="p">[</span><span class="n">ROBOT_TYPE</span><span class="p">])</span>
</span></code></pre></div>
</div>
<hr />
<h2 id="paso-2-controlar-el-robot">PASO 2: Controlar el robot</h2>
<p>Luego de llamar a <code>get_robot</code>, se puede utilizar la instancia del robot para controlar sus motores y sensores. Por ejemplo:</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>move</code></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">vx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">vy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">omega</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span></code></pre></div>
</div>
<hr />
<h2 id="metodos-asociados-a-la-clase-base-del-robot">M√©todos asociados a la clase base del robot</h2>
<h3 id="funciones-relacionadas-con-el-movimiento-del-robot">Funciones relacionadas con el movimiento del robot</h3>
<h4 id="robotmove">ROBOT.MOVE</h4>
<p><em><code>robot.move(vx, vy, omega)</code></em></p>
<p>Calcula y aplica velocidades individuales a las ruedas a partir de velocidades del chasis.</p>
<p><strong>Par√°metros:</strong></p>
<ul>
<li><code>vx</code> (<em>float</em>): Velocidad lineal en eje X [m/s]</li>
<li><code>vy</code> (<em>float</em>): Velocidad lineal en eje Y [m/s]</li>
<li><code>omega</code> (<em>float</em>): Velocidad angular del chasis [rad/s]</li>
</ul>
<p><strong>Ejemplo:</strong></p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>move</code></p>
<p>Este comando permite mover el robot con una velocidad lineal de 0.5‚ÄØm/s en el eje X, sin movimiento en el eje Y, y con una rotaci√≥n angular de 0.1‚ÄØrad/s.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">vx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">vy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">omega</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span></code></pre></div>
</div>
<h4 id="robotstop">ROBOT.STOP</h4>
<p><em><code>robot.stop()</code></em></p>
<p>Detiene el robot m√≥vil, estableciendo todas las velocidades a cero.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>stop</code></p>
<p>Este comando detiene completamente el movimiento del robot.
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<h4 id="robotset_custom_jacobian">ROBOT.SET_CUSTOM_JACOBIAN</h4>
<p><em><code>robot.set_custom_jacobian(func)</code></em></p>
<p>Define una funci√≥n externa para calcular el jacobiano personalizado.</p>
<p><strong>Par√°metros:</strong></p>
<ul>
<li><code>func</code> (<em>callable</em>): Funci√≥n que retorna una matriz jacobiana (lista de listas)</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>set_custom_jacobian</code></p>
<p>Este comando permite definir un jacobiano personalizado para el robot, √∫til en aplicaciones espec√≠ficas.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">my_jacobian</span><span class="p">():</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="k">return</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">robot</span><span class="o">.</span><span class="n">set_custom_jacobian</span><span class="p">(</span><span class="n">my_jacobian</span><span class="p">)</span>
</span></code></pre></div>
</div>
<hr />
<h3 id="funciones-relacionadas-con-el-control-en-lazo-cerrado">Funciones relacionadas con el control en lazo cerrado</h3>
<h4 id="robotset_control_mode">ROBOT.SET_CONTROL_MODE</h4>
<p><em><code>robot.set_control_mode(closed_loop=False)</code></em></p>
<p>Activa o desactiva el control en lazo cerrado (PID) en todos los motores.</p>
<p><strong>Par√°metros:</strong></p>
<ul>
<li><code>closed_loop</code> (<em>bool</em>): <code>True</code> para habilitar PID, <code>False</code> para desactivar</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>set_control_mode</code></p>
<p>Este comando activa el control PID en todos los motores del robot.
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">set_control_mode</span><span class="p">(</span><span class="n">closed_loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<h4 id="robotset_pid_constants">ROBOT.SET_PID_CONSTANTS</h4>
<p><em><code>robot.set_pid_constants(motor_index, kp, ki=None, kd=None)</code></em></p>
<p>Configura los par√°metros PID de un motor en espec√≠fico.</p>
<p><strong>Par√°metros:</strong></p>
<ul>
<li><code>motor_index</code> (<em>int</em>): √çndice del motor en la lista <code>robot.motors</code></li>
<li><code>kp</code> (<em>float</em>): Constante proporcional</li>
<li><code>ki</code> (<em>float</em>): Constante integral (opcional)</li>
<li><code>kd</code> (<em>float</em>): Constante derivativa (opcional)</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>set_pid_constants</code></p>
<p>Este comando ajusta los par√°metros PID del primer motor del robot.
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">set_pid_constants</span><span class="p">(</span><span class="n">motor_index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kp</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">ki</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">kd</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<h4 id="robotenable_auto_update">ROBOT.ENABLE_AUTO_UPDATE</h4>
<p><em><code>robot.enable_auto_update(interval=10)</code></em></p>
<p>Habilita la actualizaci√≥n peri√≥dica de los motores usando un <code>Timer</code>.</p>
<p><strong>Par√°metros:</strong></p>
<ul>
<li><code>interval</code> (<em>int</em>): Periodo de actualizaci√≥n en milisegundos (por defecto 10 ms)</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>enable_auto_update</code></p>
<p>Este comando activa la actualizaci√≥n autom√°tica de los motores cada 20 ms.
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">enable_auto_update</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<hr />
<h3 id="funciones-relacionadas-con-los-motores-individuales">Funciones relacionadas con los motores individuales</h3>
<h4 id="robotmotorsidset_speed">ROBOT.MOTORS.ID.SET_SPEED</h4>
<p><em><code>robot.motors[id].set_speed(speed_rps)</code></em></p>
<p>Establece la velocidad objetivo del motor en revoluciones por segundo (rps).</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>set_speed</code></p>
<p>Este comando establece la velocidad del primer motor a 10.0 rps.
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<h4 id="robotmotorsidstop">ROBOT.MOTORS.ID.STOP</h4>
<p><em><code>robot.motors[id].stop()</code></em></p>
<p>Detiene el motor individual.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>stop</code></p>
<p>Este comando detiene el segundo motor del robot.
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<h4 id="robotmotorsidget_speed">ROBOT.MOTORS.ID.GET_SPEED</h4>
<p><em><code>robot.motors[id].get_speed()</code></em></p>
<p>Retorna la velocidad actual del motor.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>get_speed</code></p>
<p>Este comando obtiene la velocidad actual del tercer motor.
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">vel</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">get_speed</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<h4 id="robotmotorsidget_state">ROBOT.MOTORS.ID.GET_STATE</h4>
<p><em><code>robot.motors[id].get_state()</code></em></p>
<p>Retorna un diccionario con informaci√≥n del estado del motor (velocidad, posici√≥n, PID, etc).</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>get_state</code></p>
<p>Este comando imprime el estado del cuarto motor, incluyendo velocidad y posici√≥n.
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">get_state</span><span class="p">())</span>
</span></code></pre></div></p>
</div>
<h4 id="robotmotorsidenable_close_loop_control">ROBOT.MOTORS.ID.ENABLE_CLOSE_LOOP_CONTROL</h4>
<p><em><code>robot.motors[id].enable_close_loop_control(True)</code></em></p>
<p>Activa el control PID para ese motor.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>enable_close_loop_control</code></p>
<p>Este comando activa el control PID en el primer motor del robot.
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">enable_close_loop_control</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<h4 id="robotmotorsidtune_pid">ROBOT.MOTORS.ID.TUNE_PID</h4>
<p><em><code>robot.motors[id].tune_pid(kp, ki, kd)</code></em></p>
<p>Ajusta los par√°metros PID para un motor espec√≠fico.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>tune_pid</code></p>
<p>Este comando ajusta los par√°metros PID del primer motor a kp=1.0, ki=0.1, kd=0.01.
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tune_pid</span><span class="p">(</span><span class="n">kp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ki</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">kd</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<hr />
<h3 id="funciones-relacionadas-con-la-lectura-de-sensores-del-robot">Funciones relacionadas con la lectura de sensores del robot</h3>
<h4 id="robotsensorsread_imu_theta">ROBOT.SENSORS.READ_IMU_THETA</h4>
<p><em><code>robot.sensors.read_imu_theta()</code></em></p>
<p>Devuelve el √°ngulo de orientaci√≥n estimado por el IMU (en radianes).</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>read_imu_theta</code></p>
<p>Este comando obtiene el √°ngulo de orientaci√≥n del robot desde el IMU.
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">theta</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">sensors</span><span class="o">.</span><span class="n">read_imu_theta</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<h4 id="robotsensorsread_imu_values">ROBOT.SENSORS.READ_IMU_VALUES</h4>
<p><em><code>robot.sensors.read_imu_values()</code></em></p>
<p>Retorna los valores del IMU (aceler√≥metro y gir√≥scopo).</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>read_imu_values</code></p>
<p>Este comando obtiene los valores del IMU, incluyendo aceleraci√≥n y velocidad angular.
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">imu_data</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">sensors</span><span class="o">.</span><span class="n">read_imu_values</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<h4 id="robotsensorsread_ultrasonic_value">ROBOT.SENSORS.READ_ULTRASONIC_VALUE</h4>
<p><em><code>robot.sensors.read_ultrasonic_value(sensor_id)</code></em></p>
<p>Retorna la distancia medida por un sensor ultras√≥nico espec√≠fico.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>read_ultrasonic_value</code></p>
<p>Este comando obtiene la distancia medida por el primer sensor ultras√≥nico.
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">distancia</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">sensors</span><span class="o">.</span><span class="n">read_ultrasonic_value</span><span class="p">(</span><span class="n">sensor_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></code></pre></div></p>
</div>
<h4 id="robotsensorsread_ultrasonic_all">ROBOT.SENSORS.READ_ULTRASONIC_ALL</h4>
<p><em><code>robot.sensors.read_ultrasonic_all()</code></em></p>
<p>Retorna una lista con las mediciones de todos los sensores ultras√≥nicos.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>read_ultrasonic_all</code></p>
<p>Este comando obtiene las distancias medidas por todos los sensores ultras√≥nicos del robot.
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">distancias</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">sensors</span><span class="o">.</span><span class="n">read_ultrasonic_all</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<hr />
<h3 id="robotupdate_odometry">ROBOT.UPDATE_ODOMETRY</h3>
<p><em><code>robot.update_odometry()</code></em></p>
<p>Actualiza la posici√≥n estimada del robot. Actualmente no implementado, pero reservado para fusi√≥n de datos de encoders e IMU.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de metodo <code>update_odometry</code></p>
<p>Este comando actualiza la odometr√≠a del robot, aunque actualmente no realiza ninguna acci√≥n.
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">robot</span><span class="o">.</span><span class="n">update_odometry</span><span class="p">()</span>
</span></code></pre></div></p>
</div>
<hr />
<h3 id="robotmotors">ROBOT.MOTORS</h3>
<p><em><code>robot.motors</code></em></p>
<p>Lista de objetos <code>MotorWithPID</code> que representan cada una de las ruedas del robot.</p>
<div class="admonition tip">
<p class="admonition-title">Ejemplo de uso de la lista <code>robot.motors</code></p>
<p>Este comando itera sobre cada motor del robot e imprime su estado actual.
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">for</span> <span class="n">motor</span> <span class="ow">in</span> <span class="n">robot</span><span class="o">.</span><span class="n">motors</span><span class="p">:</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">motor</span><span class="o">.</span><span class="n">get_state</span><span class="p">())</span>
</span></code></pre></div></p>
</div>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Navegaci√≥n de pie de p√°gina">
        <a href="../../configure/motor_config_guide/" class="btn btn-neutral float-left" title="Configuraci√≥n y calibraci√≥n de motores"><span class="icon icon-circle-arrow-left"></span> Anterior</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Constru√≠do con <a href="https://www.mkdocs.org/">MkDocs</a> usando un <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a> provisto por <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versiones">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/PUCP-Robotica-IA/Software_Pico" class="fa fa-code-fork" style="color: #fcfcfc"> Ver en GitHub</a>
        </span>
    
    
      <span><a href="../../configure/motor_config_guide/" style="color: #fcfcfc">&laquo; Anterior</a></span>
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
